{"version":3,"file":"static/js/559.63bc8162.chunk.js","mappings":"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","sources":["webpack://myblog/./src/pages/BlogPage.module.css?88dd","webpack://myblog/./src/ui/DeleteButton.module.css?2d59","ui/DeleteButton.jsx","webpack://myblog/./src/components/comments/CommentForm.module.css?e299","components/comments/CommentForm.jsx","webpack://myblog/./src/components/comments/CommentItem.module.css?204f","components/comments/UpdateForm.jsx","components/comments/CommentItem.jsx","webpack://myblog/./src/components/comments/Comments.module.css?d88e","components/comments/Comments.jsx","pages/BlogPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"blog\":\"BlogPage_blog__rx5fc\",\"edit\":\"BlogPage_edit__HWS9h\",\"buttons\":\"BlogPage_buttons__2FqmJ\",\"icon\":\"BlogPage_icon__Rxjf0\"};","// extracted by mini-css-extract-plugin\nexport default {\"delete\":\"DeleteButton_delete__dn4W7\",\"icon\":\"DeleteButton_icon__++xcR\"};","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport classes from \"./DeleteButton.module.css\";\r\nimport { AiOutlineDelete } from \"react-icons/ai\";\r\nfunction DeleteButton(props) {\r\n  const token = useSelector((state) => state.user.token);\r\n  const navigate = useNavigate();\r\n  const id = props.id;\r\n  const deleteHandler = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/${id}`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            authorization: `BEARER ${token}`,\r\n          },\r\n        }\r\n      );\r\n      navigate(-1);\r\n      if (!response.ok) {\r\n        throw new Error(\"Could not delete blog page\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  return (\r\n    <AiOutlineDelete\r\n      size=\"30px\"\r\n      color=\"black\"\r\n      className={classes.icon}\r\n      onClick={deleteHandler}\r\n    />\r\n  );\r\n}\r\n\r\nexport default DeleteButton;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"CommentForm_error__C+Mxh\",\"form\":\"CommentForm_form__FX++t\"};","import React, { useState } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form } from \"formik\";\r\nimport classes from \"./CommentForm.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nfunction CommentForm(props) {\r\n  const [disabled, setDisabled] = useState(false);\r\n  const token = useSelector((state) => state.user.token);\r\n\r\n  const createCommentHandler = async (values) => {\r\n    try {\r\n      const response = await fetch(\r\n        process.env.REACT_APP_BACKEND_URL + `/blogs/comment/${props.blogId}`,\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify({\r\n            comment: values.comment,\r\n          }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            authorization: `BEARER ${token}`,\r\n          },\r\n        }\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Could not create new comment\");\r\n      }\r\n      props.toggler();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const commentSchema = Yup.object().shape({\r\n    comment: Yup.string().required(\"Your comment is empty!\"),\r\n  });\r\n  return (\r\n    <section className={classes.form}>\r\n      <Formik\r\n        initialValues={{\r\n          comment: \"\",\r\n        }}\r\n        validationSchema={commentSchema}\r\n        validateOnChange={false}\r\n        validateOnBlur={false}\r\n        onSubmit={(values) => {\r\n          createCommentHandler(values);\r\n          setDisabled(true);\r\n          setTimeout(() => {\r\n            setDisabled(false);\r\n          }, 3000);\r\n        }}\r\n      >\r\n        {({ errors, handleBlur, handleChange, values }) => (\r\n          <Form>\r\n            <label htmlFor=\"comment\"> Add a Comment</label>\r\n            <textarea\r\n              name=\"comment\"\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              value={values.comment}\r\n            />\r\n            {errors.comment && (\r\n              <div className={classes.error}>{errors.comment}</div>\r\n            )}\r\n            <button className=\"btn\" type=\"submit\" disabled={disabled}>\r\n              Comment\r\n            </button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default CommentForm;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"CommentItem_item__YbmIc\",\"user\":\"CommentItem_user__zl6RH\",\"span\":\"CommentItem_span__TqdZ8\",\"icon\":\"CommentItem_icon__-0p2z\"};","import React, { useState } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form } from \"formik\";\r\nimport classes from \"./CommentForm.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nfunction UpdateForm(props) {\r\n  const [disabled, setDisabled] = useState(false);\r\n  const token = useSelector((state) => state.user.token);\r\n\r\n  const updateCommentHandler = async (values) => {\r\n    try {\r\n      const response = await fetch(\r\n        process.env.REACT_APP_BACKEND_URL + `/blogs/comment/${props.commentId}`,\r\n        {\r\n          method: \"PATCH\",\r\n          body: JSON.stringify({\r\n            comment: values.comment,\r\n          }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            authorization: `BEARER ${token}`,\r\n          },\r\n        }\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Could not update comment\");\r\n      }\r\n      props.editToggle();\r\n      props.toggler();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const commentSchema = Yup.object().shape({\r\n    comment: Yup.string().required(\"Your comment is empty!\"),\r\n  });\r\n  return (\r\n    <section className={classes.form}>\r\n      <Formik\r\n        initialValues={{\r\n          comment: props.comment,\r\n        }}\r\n        validationSchema={commentSchema}\r\n        validateOnChange={false}\r\n        validateOnBlur={false}\r\n        onSubmit={(values) => {\r\n          updateCommentHandler(values);\r\n          setDisabled(true);\r\n          setTimeout(() => {\r\n            setDisabled(false);\r\n          }, 3000);\r\n        }}\r\n      >\r\n        {({ errors, handleBlur, handleChange, values }) => (\r\n          <Form>\r\n            <label htmlFor=\"comment\"> Edit Comment</label>\r\n            <textarea\r\n              name=\"comment\"\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              value={values.comment}\r\n            />\r\n            {errors.comment && (\r\n              <div className={classes.error}>{errors.comment}</div>\r\n            )}\r\n            <button className=\"btn\" type=\"submit\" disabled={disabled}>\r\n              Comment\r\n            </button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default UpdateForm;\r\n","import React, { Fragment, useState } from \"react\";\r\nimport classes from \"./CommentItem.module.css\";\r\nimport userImage from \"../../images/user-img.png\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { AiOutlineDelete } from \"react-icons/ai\";\r\nimport { BiPencil } from \"react-icons/bi\";\r\nimport UpdateForm from \"./UpdateForm\";\r\nfunction CommentItem(props) {\r\n  const token = useSelector((state) => state.user.token);\r\n  const id = useSelector((state) => state.user.id);\r\n  const boolModify = id === props.comment.user._id;\r\n  const [edit, setEdit] = useState(false);\r\n  function capitalize(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\r\n  }\r\n  const editToggle = () => {\r\n    setEdit((edit) => !edit);\r\n  };\r\n  const deleteHandler = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}/blogs/comment/${props.comment._id}`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            authorization: `BEARER ${token}`,\r\n          },\r\n        }\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Could not delete comment\");\r\n      }\r\n      props.toggler();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const date = new Date(props.comment.date).toLocaleString();\r\n  return (\r\n    <div className={classes.item}>\r\n      <div className={classes.user}>\r\n        <img src={userImage} alt=\"Icon\" />\r\n        <h3>\r\n          {capitalize(props.comment.user.firstName) +\r\n            \" \" +\r\n            capitalize(props.comment.user.lastName) +\r\n            \" \"}\r\n          <span className={classes.span}>{date}</span>\r\n          <span>\r\n            {boolModify && (\r\n              <Fragment>\r\n                <BiPencil\r\n                  size=\"20px\"\r\n                  color=\"grey\"\r\n                  className={classes.icon}\r\n                  onClick={editToggle}\r\n                />\r\n                <AiOutlineDelete\r\n                  size=\"20px\"\r\n                  color=\"grey\"\r\n                  className={classes.icon}\r\n                  onClick={deleteHandler}\r\n                />\r\n              </Fragment>\r\n            )}\r\n          </span>\r\n        </h3>\r\n      </div>\r\n      {!edit ? (\r\n        <p>{props.comment.content}</p>\r\n      ) : (\r\n        <UpdateForm\r\n          commentId={props.comment._id}\r\n          comment={props.comment.content}\r\n          toggler={props.toggler}\r\n          editToggle={editToggle}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CommentItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"comments\":\"Comments_comments__l4aTc\",\"btn\":\"Comments_btn__xie6n\",\"container\":\"Comments_container__7Rk75\",\"active\":\"Comments_active__LhXdZ\"};","import React, { Fragment, useState } from \"react\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport CommentItem from \"./CommentItem\";\r\nimport classes from \"./Comments.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ReactPaginate from \"react-paginate\";\r\nfunction Comments(props) {\r\n  const { comments } = props;\r\n  const token = useSelector((state) => state.user.token);\r\n  const [pageNumber, setPageNumber] = useState(0);\r\n  const commentsPerPage = 5;\r\n  const pagesVisited = pageNumber * commentsPerPage;\r\n  const length = !!comments.length ? comments.length : 1;\r\n  const pageCount = Math.ceil(length / commentsPerPage);\r\n  const changePage = ({ selected }) => {\r\n    setPageNumber(selected);\r\n  };\r\n  return (\r\n    <div className={classes.comments}>\r\n      <h2>Comments</h2>\r\n      {!!token ? (\r\n        <CommentForm blogId={props.blogId} toggler={props.toggler} />\r\n      ) : (\r\n        <h3>Login to comment</h3>\r\n      )}\r\n      {comments && (\r\n        <Fragment>\r\n          {comments\r\n            .slice(pagesVisited, pagesVisited + commentsPerPage)\r\n            .map((comment) => {\r\n              return (\r\n                <CommentItem\r\n                  comment={comment}\r\n                  key={comment._id}\r\n                  toggler={props.toggler}\r\n                />\r\n              );\r\n            })}\r\n          <ReactPaginate\r\n            previousLabel={\"Previous\"}\r\n            nextLabel={\"Next\"}\r\n            pageCount={pageCount}\r\n            onPageChange={changePage}\r\n            containerClassName={classes.container}\r\n            previousLinkClassName={classes.btn}\r\n            nextLinkClassName={classes.btn}\r\n            activeClassName={classes.active}\r\n          />\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comments;\r\n","import { useParams } from \"react-router-dom\";\r\nimport classes from \"./BlogPage.module.css\";\r\nimport { useState, useEffect, Fragment } from \"react\";\r\nimport LoadingSpinner from \"../ui/LoadingSpinner\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DeleteButton from \"../ui/DeleteButton\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Comments from \"../components/comments/Comments\";\r\nimport { BiPencil } from \"react-icons/bi\";\r\nconst BlogPage = () => {\r\n  const params = useParams();\r\n  const { id } = params;\r\n  const [blog, setBlog] = useState(null);\r\n  const user = useSelector((state) => state.user);\r\n  const [toggle, setToggle] = useState(false);\r\n  const toggler = () => {\r\n    setToggle((toggle) => !toggle);\r\n  };\r\n  useEffect(() => {\r\n    const fetchBlog = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/blogs/blog/${id}`\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Could not fetch blog page\");\r\n        }\r\n        const data = await response.json();\r\n        setBlog(data.blog);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    fetchBlog();\r\n  }, [id, toggle]);\r\n  const buttons = (\r\n    <div className={classes.buttons}>\r\n      <Link to={`/edit/${id}`}>\r\n        <BiPencil className={classes.icon} size=\"30px\" color=\"black\" />\r\n      </Link>\r\n      <DeleteButton id={id} />\r\n    </div>\r\n  );\r\n  const boolBlog = !!blog;\r\n  let boolModify = false;\r\n  if (!!user.token && blog) {\r\n    boolModify = blog.author._id === user.id;\r\n  }\r\n  return (\r\n    <Fragment>\r\n      {boolBlog ? (\r\n        <Fragment>\r\n          <div className={classes.blog}>\r\n            <h1>{blog.title}</h1>\r\n            <h2>{blog.author.firstName + \" \" + blog.author.lastName} </h2>\r\n            <h3>{blog.description}</h3>\r\n            {boolModify && buttons}\r\n            <p>{blog.article}</p>\r\n          </div>\r\n\r\n          {<Comments blogId={id} comments={blog.comments} toggler={toggler} />}\r\n        </Fragment>\r\n      ) : (\r\n        <LoadingSpinner />\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\nexport default BlogPage;\r\n"],"names":["props","token","useSelector","state","user","navigate","useNavigate","id","deleteHandler","fetch","process","method","headers","authorization","response","ok","Error","console","log","size","color","className","classes","onClick","useState","disabled","setDisabled","createCommentHandler","values","blogId","body","JSON","stringify","comment","toggler","commentSchema","Yup","shape","required","initialValues","validationSchema","validateOnChange","validateOnBlur","onSubmit","setTimeout","errors","handleBlur","handleChange","htmlFor","name","onChange","onBlur","value","type","updateCommentHandler","commentId","editToggle","boolModify","_id","edit","setEdit","capitalize","string","charAt","toUpperCase","slice","toLowerCase","date","Date","toLocaleString","src","userImage","alt","firstName","lastName","Fragment","content","comments","pageNumber","setPageNumber","pagesVisited","length","pageCount","Math","ceil","map","previousLabel","nextLabel","onPageChange","selected","containerClassName","previousLinkClassName","nextLinkClassName","activeClassName","useParams","blog","setBlog","toggle","setToggle","useEffect","fetchBlog","json","data","buttons","to","boolBlog","author","title","description","article","LoadingSpinner"],"sourceRoot":""}