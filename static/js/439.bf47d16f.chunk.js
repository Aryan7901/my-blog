"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[439],{8429:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(885),i=r(2791),a=r(773),c=r(5705),o="BlogForm_card__WyM7c",l="BlogForm_error__B9QNG",s="BlogForm_divisions__f5PtE",u=r(8208),d=r(1393),h=r(184);var p=function(e){var t=(0,i.useState)(!1),r=(0,n.Z)(t,2),p=r[0],f=r[1],m=a.Ry().shape({title:a.Z_().required("This field is Required!"),description:a.Z_().required("This field is Required!"),article:a.Z_().required("This field is Required!").min(500,"Article too short")});return(0,h.jsxs)(u.Z,{className:o,children:[(0,h.jsx)("div",{className:s,children:(0,h.jsx)("h1",{children:e.text})}),(0,h.jsx)(c.J9,{initialValues:{title:e.title,description:e.description,article:e.article},validationSchema:m,onSubmit:function(t){e.blogHandler(t),f(!0),setTimeout((function(){f(!1)}),3e3)},children:function(t){var r=t.errors,n=t.touched,i=t.handleBlur,a=t.handleChange,o=t.values;return(0,h.jsxs)(c.l0,{children:[(0,h.jsx)(d.Z,{name:"title",label:"Title"}),(0,h.jsx)(d.Z,{name:"description",label:"Description"}),(0,h.jsx)("label",{htmlFor:"article",children:"Article"}),(0,h.jsx)("textarea",{name:"article",onChange:a,onBlur:i,value:o.article}),r.article&&n.article&&(0,h.jsx)("div",{className:l,children:r.article}),(0,h.jsx)("button",{className:"btn",type:"submit",disabled:p,children:e.buttonText})]})}})]})}},1393:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(2791),i=r(5705),a="FormikField_error__pd7Oo",c=r(184);var o=function(e){var t;return t=e.type?e.type:"text",(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)("label",{htmlFor:e.name,children:e.label}),(0,c.jsx)(i.gN,{name:e.name,type:t}),(0,c.jsx)(i.Bc,{name:e.name,className:a,children:function(e){return(0,c.jsx)("div",{className:a,children:e})}})]})}},8439:function(e,t,r){r.r(t);var n=r(5861),i=r(885),a=r(7757),c=r.n(a),o=r(6871),l=r(2791),s=r(6030),u=r(3365),d=r(8429),h=r(9117),p=r(184);t.default=function(){var e=(0,o.UO)().id,t=(0,o.s0)(),r=(0,s.v9)((function(e){return e.user.token})),a=(0,l.useState)(null),f=(0,i.Z)(a,2),m=f[0],x=f[1];(0,l.useEffect)((function(){var t=function(){var t=(0,n.Z)(c().mark((function t(){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://blogaryan.herokuapp.com","/blogs/blog/").concat(e));case 3:if((r=t.sent).ok){t.next=6;break}throw new Error("Could not fetch blog data");case 6:return t.next=8,r.json();case 8:n=t.sent,x(n.blog),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var b=function(){var i=(0,n.Z)(c().mark((function n(i){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat("https://blogaryan.herokuapp.com","/user/").concat(e),{method:"PATCH",body:JSON.stringify({title:i.title,description:i.description,article:i.article}),headers:{"Content-Type":"application/json",authorization:"BEARER ".concat(r)}});case 3:if(n.sent.ok){n.next=6;break}throw new Error("Could not edit page");case 6:t("/user",{replace:!0}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return i.apply(this,arguments)}}();return(0,p.jsx)(h.Fragment,{children:m?(0,p.jsx)(d.Z,{blogHandler:b,title:m.title,description:m.description,article:m.article,buttonText:"Edit Blog",text:"Edit Blog"}):(0,p.jsx)(u.Z,{})})}}}]);
//# sourceMappingURL=439.bf47d16f.chunk.js.map