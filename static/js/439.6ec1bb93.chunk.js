"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[439],{8429:function(e,t,r){r.d(t,{Z:function(){return d}});r(2791);var n=r(773),i=r(5705),a="BlogForm_card__WyM7c",c="BlogForm_error__B9QNG",l="BlogForm_divisions__f5PtE",o=r(8208),s=r(1393),u=r(184);var d=function(e){var t=n.Ry().shape({title:n.Z_().required("This field is Required!"),description:n.Z_().required("This field is Required!"),article:n.Z_().required("This field is Required!").min(500,"Article too short")});return(0,u.jsxs)(o.Z,{className:a,children:[(0,u.jsx)("div",{className:l,children:(0,u.jsx)("h1",{children:e.text})}),(0,u.jsx)(i.J9,{initialValues:{title:e.title,description:e.description,article:e.article},validationSchema:t,onSubmit:function(t){e.blogHandler(t)},children:function(t){var r=t.errors,n=t.touched,a=t.handleBlur,l=t.handleChange,o=t.values;return(0,u.jsxs)(i.l0,{children:[(0,u.jsx)(s.Z,{name:"title",label:"Title"}),(0,u.jsx)(s.Z,{name:"description",label:"Description"}),(0,u.jsx)("label",{htmlFor:"article",children:"Article"}),(0,u.jsx)("textarea",{name:"article",onChange:l,onBlur:a,value:o.article}),r.article&&n.article&&(0,u.jsx)("div",{className:c,children:r.article}),(0,u.jsx)("button",{className:"btn",type:"submit",children:e.buttonText})]})}})]})}},1393:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(2791),i=r(5705),a="FormikField_error__pd7Oo",c=r(184);var l=function(e){var t;return t=e.type?e.type:"text",(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)("label",{htmlFor:e.name,children:e.label}),(0,c.jsx)(i.gN,{name:e.name,type:t}),(0,c.jsx)(i.Bc,{name:e.name,className:a,children:function(e){return(0,c.jsx)("div",{className:a,children:e})}})]})}},8439:function(e,t,r){r.r(t);var n=r(5861),i=r(885),a=r(7757),c=r.n(a),l=r(6871),o=r(2791),s=r(6030),u=r(3365),d=r(8429),h=r(9117),p=r(184);t.default=function(){var e=(0,l.UO)().id,t=(0,l.s0)(),r=(0,s.v9)((function(e){return e.user.token})),a=(0,o.useState)(null),f=(0,i.Z)(a,2),x=f[0],m=f[1];(0,o.useEffect)((function(){var t=function(){var t=(0,n.Z)(c().mark((function t(){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://blogaryan.herokuapp.com","/blogs/blog/").concat(e));case 3:if((r=t.sent).ok){t.next=6;break}throw new Error("Could not fetch blog data");case 6:return t.next=8,r.json();case 8:n=t.sent,m(n.blog),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var b=function(){var i=(0,n.Z)(c().mark((function n(i){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat("https://blogaryan.herokuapp.com","/user/").concat(e),{method:"PATCH",body:JSON.stringify({title:i.title,description:i.description,article:i.article}),headers:{"Content-Type":"application/json",authorization:"BEARER ".concat(r)}});case 3:if(n.sent.ok){n.next=6;break}throw new Error("Could not edit page");case 6:t("/user",{replace:!0}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return i.apply(this,arguments)}}();return(0,p.jsx)(h.Fragment,{children:x?(0,p.jsx)(d.Z,{blogHandler:b,title:x.title,description:x.description,article:x.article,buttonText:"Edit Blog",text:"Edit Blog"}):(0,p.jsx)(u.Z,{})})}}}]);
//# sourceMappingURL=439.6ec1bb93.chunk.js.map