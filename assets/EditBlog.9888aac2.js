import{b as g,a as d,u,r as o,F as h,c as m}from"./index.c437e536.js";import{B as f}from"./BlogForm.d8c314a0.js";import"./formik.esm.0d4c661d.js";import"./FormikField.cbd7ff63.js";function x(){const n=g(),{id:a}=n,s=d(),c=u(e=>e.user.token),[r,l]=o.exports.useState(null);o.exports.useEffect(()=>{(async()=>{try{const t=await fetch(`https://blogaryan.herokuapp.com/blogs/blog/${a}`);if(!t.ok)throw new Error("Could not fetch blog data");const p=await t.json();l(p.blog)}catch(t){console.log(t)}})()},[a]);const i=async e=>{try{if(!(await fetch(`https://blogaryan.herokuapp.com/user/${a}`,{method:"PATCH",body:JSON.stringify({title:e.title,description:e.description,article:e.article}),headers:{"Content-Type":"application/json",authorization:`BEARER ${c}`}})).ok)throw new Error("Could not edit page");s("/user",{replace:!0})}catch(t){console.log(t)}};return o.exports.createElement(h,null,r?o.exports.createElement(f,{blogHandler:i,title:r.title,description:r.description,article:r.article,buttonText:"Edit Blog",text:"Edit Blog"}):o.exports.createElement(m,null))}export{x as default};
