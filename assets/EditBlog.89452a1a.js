import{b as g,a as d,u,r as o,F as E,c as f}from"./index.b47de396.js";import{B as m}from"./BlogForm.c6c2ea70.js";import"./formik.esm.5b541d60.js";import"./FormikField.84ccb80b.js";function A(){const n=g(),{id:a}=n,s=d(),c=u(e=>e.user.token),[r,i]=o.exports.useState(null);o.exports.useEffect(()=>{(async()=>{try{const t=await fetch(`${{}.REACT_APP_BACKEND_URL}/blogs/blog/${a}`);if(!t.ok)throw new Error("Could not fetch blog data");const p=await t.json();i(p.blog)}catch(t){console.log(t)}})()},[a]);const l=async e=>{try{if(!(await fetch(`${{}.REACT_APP_BACKEND_URL}/user/${a}`,{method:"PATCH",body:JSON.stringify({title:e.title,description:e.description,article:e.article}),headers:{"Content-Type":"application/json",authorization:`BEARER ${c}`}})).ok)throw new Error("Could not edit page");s("/user",{replace:!0})}catch(t){console.log(t)}};return o.exports.createElement(E,null,r?o.exports.createElement(m,{blogHandler:l,title:r.title,description:r.description,article:r.article,buttonText:"Edit Blog",text:"Edit Blog"}):o.exports.createElement(f,null))}export{A as default};
