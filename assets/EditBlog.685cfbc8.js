import{b as d,a as u,u as f,c as E,r as t,F as h,d as b}from"./index.ad60711a.js";import{B as x}from"./BlogForm.f2a3a593.js";import{f as B}from"./fetchBlog.0edf35c0.js";import"./formik.esm.b66bef39.js";import"./FormikField.c9ffaef7.js";const y="_message_qeon6_1",_="_error_qeon6_17";var i={message:y,error:_};function H(){const l=d(),{id:r}=l,c=u(),p=f(e=>e.user.token),{data:s,error:a,isLoading:m}=E(["blog-data",r],()=>B(r)),o=s?s.blog:null,g=async e=>{try{if(!(await fetch(`https://blogaryan.herokuapp.com/user/${r}`,{method:"PATCH",body:JSON.stringify({title:e.title,description:e.description,article:e.article}),headers:{"Content-Type":"application/json",authorization:`BEARER ${p}`}})).ok)throw new Error("Could not edit page");c("/user",{replace:!0})}catch(n){console.log(n)}};return a?t.exports.createElement("div",{className:i.message},t.exports.createElement("h1",{className:i.error},a.message)):t.exports.createElement(h,null,m?t.exports.createElement(b,null):t.exports.createElement(x,{blogHandler:g,title:o.title,description:o.description,article:o.article,buttonText:"Edit Blog",text:"Edit Blog"}))}export{H as default};
